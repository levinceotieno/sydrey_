<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sydrey Enterprise</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Open+Sans&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles/index.css">
  <link rel="manifest" href="/manifest.json">
  <link rel="stylesheet" href="/styles/footer.css">
  <link rel="stylesheet" href="/styles/terms-modal.css">
  <link rel="stylesheet" href="/styles/sellingpoint.css">
  <%
    // Define page-specific variables
    const additionalScripts = [
      // Add any page-specific scripts here if needed
    ];
  %>
  <style>
    /* Default styles for mobile devices */
    body {
       display: block;
    }

    /* Styles for larger screens (e.g., laptops, desktops) */
    .large-screen-message {
	display: none; /* Hide the message by default */
	text-align: center;
	padding: 20px;
	font-size: 18px;
	background-color: #f0f0f0;
    }

    /* Hide the main content for larger screens */
    @media screen and (min-width: 768px) {
	body > *:not(.large-screen-message) {
	  display: none;
	}

	.large-screen-message {
	  display: block; /* Show the message for large screens */
	}
    }

    .highlight-badge {
	background-color: #ff9800;
	color: green;
	padding: 8px 16px;
	border-radius: 20px;
	font-weight: bold;
	font-size: 0.9rem;
	text-transform: uppercase;
	letter-spacing: 1px;
	box-shadow: 0 2px 5px rgba(0,0,0,0.2);
	margin-bottom: 10px;
    }
  </style>
  <script>
    // Check screen width immediately (before rendering the page)
    if (window.innerWidth >= 768) {
      document.write(`
	<div class="large-screen-message">
	   This website is optimized for mobile devices only. Please access it from a smartphone. Large screeens will be supported soon.
	</div>
      `);
      // Stop further rendering of the page
      document.close();
      throw new Error("Page rendering stopped for large screens");
    }
  </script>
  <script>
    if ("serviceWorker" in navigator) {
       navigator.serviceWorker.register("/sw.js")
	 .then(() => console.log("Service Worker Registered"))
	 .catch(err => console.log("Service Worker Registration Failed", err));
    }
  </script>
</head>
<body>
  <header class="main-header">
    <h1>SYDREY ENTERPRISE</h1>
    <p>Your Trusted Partner in Agriculture</p>
  </header>

  <!-- Promotional Banner -->
  <section class="promo-banner">
    <div class="promo-content">
      <h2>Fresh Ginger, Tumeric, and Garlic</h2>
      <!-- <p>Direct from Farm to Your Business</p> -->
      <div class="highlight-badge">Best Wholesale Prices</div>
      <a href="/products" class="btn promo-btn">Our Catalog</a>
    </div>
  </section>

  <section class="selling-points">
    <div class="selling-point">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
	<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
	<polyline points="22 4 12 14.01 9 11.01"></polyline>
      </svg>
      <p>100% Organic Certified Produce</p>
    </div>
    <div class="selling-point">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="1" y="3" width="22" height="16" rx="2" ry="2"></rect>
	<line x1="7" y1="20" x2="17" y2="20"></line>
	<path d="M12 16v4"></path>
	<path d="M3 13h18"></path>
      </svg>
      <p>Nationwide Delivery</p>
    </div>
    <div class="selling-point">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
	<polyline points="22 4 12 14.01 9 11.01"></polyline>
	<text x="12" y="20" text-anchor="middle" font-size="10" font-weight="bold">100</text>
      </svg>
      <p>Quality Guaranteed</p>
    </div>
  </section>
  <section class="contact-info">
    <div class="contact-item">
      <svg xmlns="http://www.w3.org/2000/svg" class="phone-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
      </svg>
      <span class="contact-text">Call us: +254 XXX XXX XXX</span>
    </div>

<%#
    <div class="contact-item">
      <svg xmlns="http://www.w3.org/2000/svg" class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
	<polyline points="22,6 12,13 2,6"></polyline>
      </svg><span class="contact-text">info@sydrey.com</span>
    </div>
%>

  </section>

  <!-- Slideshow Section -->
  <section class="slideshow-container">
    <h2>Featured Products</h2>
    <div class="slides">
      <% featuredProducts.forEach((product, index) => { %>
        <div class="slide <%= index === 0 ? 'active' : '' %>">
          <img src="<%= product.image_url %>" alt="<%= product.name %>" class="slide-image">
          <div class="slide-info">
            <h3><%= product.name %></h3>
            <p><%= product.description %></p>
            <div class="product-category <%= product.category === 'wholesale' ? 'wholesale' : 'retail' %>">
              <%= product.category === 'wholesale' ? 'Wholesale' : 'Retail' %>
            </div>
            <p>Available: <%= product.quantity %></p>
            <p>Ksh. <%= product.price %></p>
          </div>
        </div>
      <% }) %>
    </div>
    <button class="prev">&lt;</button>
    <button class="next">&gt;</button>
  </section>

  <!-- Welcome Section -->
  <section class="welcome-section">
    <h2>Why Choose Sydrey Enterprise?</h2>
    <p>We're not just suppliers - we're your agricultural success partners. From small farms to large enterprises, we deliver top-tier products that boost your productivity.</p>
    <div class="button-group">
      <a href="/products" class="btn shop-btn">Products</a>
      <a href="/auth/login" class="btn login-btn">Login</a>
      <a href="/auth/register" class="btn register-btn">Sign Up</a>
    </div>
  </section>

  <script>
    // Slideshow logic
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;

    const showSlide = (index) => {
      // Remove the 'active' class from all slides
      slides.forEach((slide) => slide.classList.remove('active'));

      // Add the 'active' class to the current slide
      slides[index].classList.add('active');
    };

    // Show the first slide initially
    showSlide(currentSlide);

    // Event listener for the "Next" button
    document.querySelector('.next').addEventListener('click', () => {
      currentSlide = (currentSlide + 1) % totalSlides;
      showSlide(currentSlide);
    });

    // Event listener for the "Prev" button
    document.querySelector('.prev').addEventListener('click', () => {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      showSlide(currentSlide);
    });

    // Automatically transition to the next slide every 5 seconds
    setInterval(() => {
      currentSlide = (currentSlide + 1) % totalSlides;
      showSlide(currentSlide);
    }, 5000);
  </script>
  <!-- Terms and Conditions Modal -->
  <div id="terms-modal" class="terms-modal">
    <div class="terms-modal-content">
      <div class="terms-modal-header">
        <h2 class="terms-modal-title">Terms and Conditions</h2>
	<span class="terms-close">&times;</span>
      </div>
      <div class="terms-modal-body">
        <p>Welcome to Sydrey Enterprise. By accessing or using our website and services, you agree to be bound by these Terms and Conditions ("Terms"). Please read them carefully.</p>

	<h2>1. Acceptance of Terms</h2>
	<p>By accessing or using Sydrey Enterprise's website, mobile application, and services, you agree to be bound by these Terms. If you do not agree to all of these Terms, you may not use our Services.</p>

	<h2>2. Services Description</h2>
	<p>Sydrey Enterprise is an agricultural products supplier specializing in organic ginger, turmeric, garlic, and other agricultural products.</p>

	<h2>3. User Accounts</h2>
	<p>To access certain features, you may need to register for an account. You agree to provide accurate information and are responsible for maintaining the confidentiality of your account.</p>

	<h2>4. Ordering and Purchases</h2>
	<p>All prices are in Kenyan Shillings and subject to change. We strive to display products accurately but do not guarantee all information is error-free.</p>
													      <h2>5. Product Quality</h2>
	<p>We stand behind the quality of our products. All products are guaranteed to be 100% organic and fresh upon delivery.</p>
	<!-- <p><a href="/terms" target="_blank">Read full Terms and Conditions</a></p> -->
      </div>
      <div class="terms-modal-footer">
	<a href="/terms" target="_blank">View Full Terms</a>
	  <button id="accept-terms" class="terms-accept-btn">I Accept</button>
      </div>
    </div>
  </div>
  <script>
    // Function to show the terms modal
    function showTermsModal() {
	document.getElementById('terms-modal').style.display = 'block';

	// Disable scrolling on the body when the modal is open
	document.body.style.overflow = 'hidden';
    }

    // Function to close the terms modal
    function closeTermsModal() {
	document.getElementById('terms-modal').style.display = 'none';

	// Re-enable scrolling on the body
	document.body.style.overflow = 'auto';
    }

    // Event listeners for the close button
    document.querySelector('.terms-close').addEventListener('click', function() {
	closeTermsModal();
    });

    // Event listener for clicking outside the modal
    window.addEventListener('click', function(event) {
	if (event.target === document.getElementById('terms-modal')) {
	   closeTermsModal();
	}
    });

    // Event listener for the accept button
    document.getElementById('accept-terms').addEventListener('click', function() {
	// Set a cookie or localStorage item to remember that the user has accepted
	localStorage.setItem('terms_accepted', 'true');
	localStorage.setItem('terms_accepted_date', new Date().toISOString());

	// Close the modal
	closeTermsModal();
    });

    // Check if the user has already accepted the terms
    window.addEventListener('DOMContentLoaded', function() {
	// If terms not accepted, show the modal
	if (!localStorage.getItem('terms_accepted')) {
	   showTermsModal();
	}
    });
  </script>
  <%- include('_footer', { additionalScripts }) %>
</body>
</html>
